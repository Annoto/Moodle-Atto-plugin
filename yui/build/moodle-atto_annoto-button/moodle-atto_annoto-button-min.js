YUI.add("moodle-atto_annoto-button",function(e,t){e.namespace("M.atto_annoto").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(e){var t=this.addButton({icon:"icon",iconComponent:"atto_annoto",buttonName:"annoto",callback:this._toggleAnnoto});this.get("host").on("pluginsloaded",function(t){e.defaultmode=="on"?this._setAnnotoOn():e.defaultmode=="off"?this._setAnnotoOff():this._setAnnoto()},this,t)},_toggleAnnoto:function(){var t=e.all("annoto");if(t.size()>0)t.remove(),this.unHighlightButtons("annoto"),this.markUpdated();else{var n=e.all("annotodisable");n.size()>0&&n.remove();var r=e.Node.create("<annoto />");r.appendTo(this.editor),this.highlightButtons("annoto"),this.markUpdated()}},_setAnnoto:function(){var t=e.all("annoto");t.size()>0&&(this.highlightButtons("annoto"),this.markUpdated())},_setAnnotoOn:function(){var t=e.all("annotodisable");t.size()>0&&t.remove();var n=e.all("annoto");if(n.size()<=1){var r=e.Node.create("<annoto />");r.appendTo(this.editor),this.highlightButtons("annoto"),this.markUpdated()}},_setAnnotoOff:function(){var t=e.all("annoto");t.size()>0&&(t.remove(),this.unHighlightButtons("annoto"));var n=e.all("annotodisable");if(n.size()<=1){var r=e.Node.create("<annotodisable />");r.appendTo(this.editor),this.markUpdated()}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
